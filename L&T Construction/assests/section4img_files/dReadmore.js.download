!function(r){function o(e){var t=e.data("dReadmore").target,a=t.data("dReadmore").btn,d=parseFloat(t.css("min-height"))*parseFloat(t.css("line-height"))/parseFloat(t.css("font-size")),r=parseFloat(t.find(".d-readmove_text-wrapp").css("height"))/parseFloat(t.css("font-size"));t.data("dReadmore").closeIfChangeWidth&&t.attr("d-readmore-expanded",t.data("dReadmore").expanded),"true"===t.attr("d-readmore-expanded")?a.html(e.data("dReadmore").lessText):a.html(e.data("dReadmore").moreText),parseFloat(t.css("min-height"))?(t.css({height:("true"===t.attr("d-readmore-expanded")?r:d)+"em","min-height":"none"}),a.css({display:""})):(t.css({height:"","min-height":""}),a.css({display:"none"})),e.data("dReadmore").heightMin=d,e.data("dReadmore").heightMax=r}function i(d){d.attr("id",d.data("dReadmore").id),o(d),d.data("dReadmore").btn.on("click",function(){d.off("transitionend");var e=r("#"+d.data("dReadmore").id),t="true"===e.attr("d-readmore-expanded");d.data("dReadmore").beforeToggle&&"function"==typeof d.data("dReadmore").beforeToggle&&d.data("dReadmore").beforeToggle(d,t),t?(e.attr("d-readmore-expanded",!1).css({height:d.data("dReadmore").heightMin+"em"}),r(this).html(d.data("dReadmore").moreText)):(e.attr("d-readmore-expanded",!0).css({height:d.data("dReadmore").heightMax+"em"}),r(this).html(d.data("dReadmore").lessText)),d.on("transitionend",function(){d.data("dReadmore").afterToggle&&"function"==typeof d.data("dReadmore").afterToggle&&d.data("dReadmore").afterToggle(d,!t),d.off("transitionend")})}),r(window).on("load resize",function(){var e,t,a;e=d,t=parseFloat(e.css("min-height"))*parseFloat(e.css("line-height"))/parseFloat(e.css("font-size")),a=parseFloat(e.find(".d-readmove_text-wrapp").css("height")),e.data("dReadmore").heightMin==t&&e.data("dReadmore").heightMax==a||o(e)})}var t={init:function(d){return this.each(function(e){var t={id:"d-readmore-"+e,startOpen:!1,moreText:"Read more",lessText:"Read Less",duration:250,timing:"ease",returnInitialState:!1,beforeToggle:function(){},afterToggle:function(){}};d&&r.extend(t,d);var a=r(this),e=a.parent().find(".d-readmore_btn").attr("d-readmore-controls-id",t.id);a.data("dReadmore",{target:a,id:t.id,btn:e,expanded:t.startOpen,moreText:t.moreText,lessText:t.lessText,duration:t.duration,closeIfChangeWidth:t.closeIfChangeWidth,heightMin:0,heightMax:0,beforeToggle:t.beforeToggle,afterToggle:t.afterToggle}).css({"transition-property":"height, min-height","transition-duration":t.duration+"ms","transition-timing-function":t.timing}).wrapInner('<div class="d-readmove_text-wrapp"></div>'),i(a)})},destroy:function(){return this.each(function(){var e=r(this);e.parent().find("."+e.data("dReadmore").btnClass).removeAttr("d-readmore-controls-id").unbind("click"),e.removeData("dReadmore"),e.css({height:"","transition-property":"","transition-duration":"","transition-timing-function":""}).removeAttr("id").removeAttr("d-readmore-expanded").html(e.find(".d-readmove_text-wrapp").html())})}};r.fn.dReadmore=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void r.error("The method named "+e+" does not exist for dReadmore"):t.init.apply(this,arguments)}}(jQuery);